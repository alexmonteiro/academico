<script type="text/javascript">
jQuery(function($) {
// when the #region_id field changes
  $("#personStates").change(function() {
    // make a POST call and replace the content
    alert("Teste");
    var state = $('select#person_state_id :selected').val();
    if(state == "") state="0";
    jQuery.get('/cities/update_city_select/' + state, function(data){
        $("#personCities").html(data);
    })
    return false;
  });
})
</script>


    <% if !states.blank? %>
       <%= select_tag 'person[state_id]', options_from_collection_for_select(states, "id", "name") %>
    <% else %>
      <%= select_tag 'person[state_id]', [], :class => 'select_field' %>
    <% end %>